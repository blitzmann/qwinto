<ng-container *ngIf="data$ | async as data">
  <div class="turn-indicator" [class]="data.myTurn ? 'mine' : 'other'">
    {{ data.currentTurn?.player?.name }}'s Turn
  </div>
  <div class="dice-container">
    <app-die
      *ngFor="let die of data.currentTurn.diceState"
      [class.selected]="die.selected"
      [value]="die.value"
      [color]="die.color"
      [class]="{ selectable: $myTurn() }"
      (click)="$myTurn() && selectDie(die)"
    ></app-die>
  </div>
  <div *ngIf="data.myTurn">
    <button
      (click)="rollSelected()"
      *ngIf="data.currentTurn.attempt.num < data.gameSettings.rollAttempts"
    >
      Roll
    </button>
    <span>{{ data.currentRollValue | json }}</span>
    <button (click)="acceptRoll()" *ngIf="!data.currentTurn.finalized">
      Accept
    </button>
  </div>
  <div *ngIf="!data.myTurn">
    Current Turn: {{ data.currentTurn?.player?.name }} / {{ $myTurn() }}
  </div>
</ng-container>
